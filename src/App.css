/* Register custom properties for smooth background transitions */
@property --bg {
  syntax: '<color>';
  inherits: true;
  initial-value: #4A5899;
}

@property --bg-dark {
  syntax: '<color>';
  inherits: true;
  initial-value: #3D4A80;
}

/* Block Blast visual identity — single theme */
:root {
  --bg: #4A5899;
  --bg-dark: #3D4A80;
  --board-bg: #1A1F3D;
  --cell-empty: #232850;
  --cell-border: #1A1F3D;
  --card-bg: #2A3060;
  --card-bg-light: #354080;
  --ghost-valid: rgba(255, 255, 255, 0.18);
  --ghost-invalid: rgba(248, 113, 113, 0.35);
  --text-primary: #ffffff;
  --text-secondary: #9BA3C7;
  --streak-glow: #FFD740;
  --score-best: #FFD740;
  --clear-glow: #C840E9;
  --accent: #5B8DEF;
  --accent-dark: #4A7BDD;
  --accent-glow: rgba(91, 141, 239, 0.35);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
}

body {
  background: linear-gradient(180deg, var(--bg) 0%, var(--bg-dark) 100%);
  background-attachment: fixed;
  color: var(--text-primary);
  font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: --bg 3s ease, --bg-dark 3s ease, background 1.5s ease;
}

/* Button tap ripple + squash on press */
.menu-btn,
.game-over-btn,
.pause-btn {
  position: relative;
  overflow: hidden;
  transition: transform 0.12s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.menu-btn:active,
.game-over-btn:active,
.pause-btn:active {
  transform: scale(0.92);
}

.menu-btn::after,
.game-over-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at var(--ripple-x, 50%) var(--ripple-y, 50%), rgba(255,255,255,0.3) 0%, transparent 60%);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.menu-btn:active::after,
.game-over-btn:active::after {
  opacity: 1;
}

.app {
  width: 100%;
  min-height: 100dvh;
}

/* Respect OS-level reduced motion preference — tiered approach:
   Kill all animations (vestibular triggers) but cap transitions
   at 150ms so UI state changes (color, width) remain visible */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.15s !important;
  }
}
